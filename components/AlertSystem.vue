<template>
  <div class="bg-white rounded-lg shadow-lg p-6">
    <h2 class="text-2xl font-bold mb-4">üîî –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π</h2>
    
    <div v-if="alerts.length === 0" class="text-center py-8 text-gray-500">
      ‚úÖ –í—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –Ω–æ—Ä–º–µ
    </div>

    <div v-else class="space-y-3">
      <div 
        v-for="alert in alerts" 
        :key="alert.id"
        :class="[
          'p-4 rounded-lg border-l-4',
          alert.type === 'critical' ? 'bg-red-50 border-red-500' :
          alert.type === 'warning' ? 'bg-yellow-50 border-yellow-500' :
          'bg-blue-50 border-blue-500'
        ]"
      >
        <div class="flex justify-between items-start">
          <div>
            <h3 class="font-semibold">{{ alert.title }}</h3>
            <p class="text-sm text-gray-600 mt-1">{{ alert.message }}</p>
            <p class="text-xs text-gray-500 mt-2">{{ alert.location }} ‚Ä¢ {{ alert.time }}</p>
          </div>
          <button @click="dismissAlert(alert.id)" class="text-gray-400 hover:text-gray-600">
            ‚úï
          </button>
        </div>
      </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å) -->
    <button 
      @click="addTestAlert"
      class="mt-4 bg-gray-500 text-white px-4 py-2 rounded text-sm hover:bg-gray-600"
    >
      –¢–µ—Å—Ç–æ–≤–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ
    </button>
  </div>
</template>

<script setup lang="ts">
interface Alert {
  id: string;
  type: 'critical' | 'warning' | 'info';
  title: string;
  message: string;
  location: string;
  time: string;
}

const alerts = ref<Alert[]>([
  {
    id: '1',
    type: 'critical',
    title: '–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –±–∞–∫—Ç–µ—Ä–∏–π',
    message: '–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –Ω–æ—Ä–º—ã –∫–∏—à–µ—á–Ω–æ–π –ø–∞–ª–æ—á–∫–∏ –≤ 3 —Ä–∞–∑–∞',
    location: '–û–∑–µ—Ä–æ –ü—ë—Å—Ç—Ä–æ–µ',
    time: '2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥'
  },
  {
    id: '2',
    type: 'warning', 
    title: '–ù–∏–∑–∫–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –≤–æ–¥—ã',
    message: '–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Å–Ω–∏–∑–∏–ª–∞—Å—å –¥–æ 45% –æ—Ç –Ω–æ—Ä–º—ã',
    location: '–†–µ–∫–∞ –ò—à–∏–º',
    time: '5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥'
  }
]);

const dismissAlert = (id: string) => {
  alerts.value = alerts.value.filter(alert => alert.id !== id);
};

const addTestAlert = () => {
  alerts.value.push({
    id: Date.now().toString(),
    type: 'info',
    title: '–¢–µ—Å—Ç–æ–≤–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ',
    message: '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã',
    location: '–¢–µ—Å—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç',
    time: '–¢–æ–ª—å–∫–æ —á—Ç–æ'
  });
};
</script>